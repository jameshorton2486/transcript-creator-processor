
<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>legal-clarity-machine</title>
    <meta name="description" content="Lovable Generated Project" />
    <meta name="author" content="Lovable" />
    <!-- Permissions-Policy with only modern supported features - using empty list instead of disabled features -->
    <meta http-equiv="Permissions-Policy" content="accelerometer=(), camera=(), geolocation=(), gyroscope=(), magnetometer=(), microphone=(), payment=(), usb=()">
    
    <!-- Proper Google Tag Manager implementation -->
    <script>
      // Initialize dataLayer array if it doesn't exist
      window.dataLayer = window.dataLayer || [];
      
      // Only load GTM if it's configured correctly
      function loadGTM(id) {
        if (!id || id.includes('github.com')) return; // Prevent GitHub URLs
        
        (function(w,d,s,l,i){w[l]=w[l]||[];w[l].push({'gtm.start':
        new Date().getTime(),event:'gtm.js'});var f=d.getElementsByTagName(s)[0],
        j=d.createElement(s),dl=l!='dataLayer'?'&l='+l:'';j.async=true;j.src=
        'https://www.googletagmanager.com/gtm.js?id='+i+dl;f.parentNode.insertBefore(j,f);
        })(window,document,'script','dataLayer','GTM-PLACEHOLDER');
      }
      
      // Only load if a valid ID is configured
      // loadGTM('GTM-XXXXXX'); // Uncomment and replace with actual GTM ID when ready
    </script>
    
    <!-- Critical CSS -->
    <link rel="stylesheet" href="/src/index.css" />
    
    <!-- Efficient font loading with font-display: swap -->
    <style>
      /* This ensures text remains visible during font loading */
      @font-face {
        font-family: system-ui, -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, Oxygen, Ubuntu, Cantarell, 'Open Sans', 'Helvetica Neue', sans-serif;
        font-display: swap;
      }
    </style>
  </head>

  <body>
    <!-- Google Tag Manager noscript (for non-JS environments) -->
    <noscript>
      <!-- Uncomment and replace with actual GTM ID when ready -->
      <!-- <iframe src="https://www.googletagmanager.com/ns.html?id=GTM-PLACEHOLDER"
      height="0" width="0" style="display:none;visibility:hidden"></iframe> -->
    </noscript>
    
    <div id="root"></div>
    <!-- IMPORTANT: DO NOT REMOVE THIS SCRIPT TAG OR THIS VERY COMMENT! -->
    <script src="https://cdn.gpteng.co/gptengineer.js" type="module"></script>
    <script type="module" src="/src/main.tsx"></script>
  </body>
</html>
